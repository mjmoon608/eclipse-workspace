package Prac;
// 계좌번호, 계좌주인, 금액 등 고객
import java.text.NumberFormat;
import java.util.Locale;
import java.util.Scanner;



public class BankAccount {
	private String mAccount;
	private String mAccountHolder;
	private int mAmount;
	private boolean isDone = false;

	public BankAccount(String account, String holder, int amount) {
		mAccount = account;
		mAccountHolder = holder;
		mAmount = amount;
	}

	public boolean deposit(int amount) {
		if (!isPositiveAmount(amount)) return false;
		
		mAmount += amount;

		String strFormat = "%s 원 입금합니다.%n";
		System.out.printf(strFormat, convertToDecimalFormat(amount));

		printAmount();
		
		return true;
	}

	public boolean withDraw(int amount) {
		if (!isPositiveAmount(amount)) return false;
		if (!canWithdraw(amount)) return false;
		
		mAmount -= amount;

		String strFormat = "%s 원 출금합니다.%n";
		System.out.printf(strFormat, convertToDecimalFormat(amount));

		printAmount();
		return true;
	}

	private void printAmount() {
		String strFormat = "잔액: %s 원%n";
		System.out.printf(strFormat, convertToDecimalFormat(mAmount));
	}

	public void printStatus() {
		String strFormat = "계좌 %s (예금주:%s)%n잔액: %s 원%n";
		System.out.printf(strFormat, mAccount, mAccountHolder, convertToDecimalFormat(mAmount));
	}
	
	public String getAccountName() {
		return mAccount;
	}
	
	private boolean isPositiveAmount(int amount)
	{
		if (amount < 0) {
			System.out.println("[에러] 금액은 음수를 입력할 수 없습니다.");
			return false;
		}
		
		return true;
	}
	
	private boolean canWithdraw(int amount)
	{
		if (mAmount - amount < 0) {
			System.out.println("에러메시지 : [에러] 잔액이 부족합니다.");
			return false;
		}
		
		return true;
	}
	
	private String convertToDecimalFormat(int amount) {
		NumberFormat nf = NumberFormat.getNumberInstance(Locale.KOREA);
		nf.setMaximumFractionDigits(3);
		return nf.format(amount);
	}
	
	private void whatDo() {
		
		Scanner input = new Scanner(System.in);
		
		System.out.println("안녕하세요. 계좌관리 시스템입니다. 필요하신 항목을 선택해주세요.");
		System.out.println(" 1: 계좌 입력, 2: 잔액 조회, 3: 잔액 입금, 4: 잔액 출금, 5: 종료");
		int whatDo = input.nextInt();
		switch(whatDo) {
		case 1: // 계좌입력
			System.out.println("계좌입릭");
			
		case 2: // 잔액 조회
			System.out.println("잔액조회");
		case 3: // 잔액 입금
			System.out.println("잔액입금");
		case 4: // 잔액 출금
			System.out.println("잔액 출금");
		case 5: //종료
			System.out.println("종료");
			isDone = true;
		}	
	}
	
	
	
	public static void main(String [] args) {
		System.out.print("gd");
	}
}